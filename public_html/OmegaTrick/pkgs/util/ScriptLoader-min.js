Ext.ns("Ext.trick","Ext.trick.util");Ext.trick.util.ScriptLoader=function(config){var me=this;Ext.apply(me,config);me.initEvents();Ext.trick.util.ScriptLoader.superclass.constructor.call(me)};
Ext.extend(Ext.ux.ScriptLoader,Ext.util.Observable,{initEvents:function(){this.addEvents("load","next")},load:function(){var me=this,load=false;if(Ext.isObject(me.items)){me.items=[me.items];load=true}var item=me.items.shift();if(item)me._load(item);else me.fireEvent("load",me)},_load:function(item){var me=this;var te=me.renderTo||document.body||document.documentElement;var script=document.createElement("script");script.id=item.id||Ext.id();script.src=item.src;script.type=item.type||"text/javascript";
if(item.charset)script.charset=item.charset;if(Ext.isIE)script.onreadystatechange=function(){switch(script.readyState){case "complete":case "loaded":if(item.callback)item.callback.apply(item.scope||me,[script.id,me]);me.load();break;default:break}};Ext.get(te.appendChild(script)).on("load",function(e,t){if(item.callback)item.callback.apply(item.scope||me,[script.id,me]);me.load()},me)}});
