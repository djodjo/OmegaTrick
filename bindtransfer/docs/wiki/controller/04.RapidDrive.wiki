* RapidDrive

RapidDriveとは「xFrameworkPXについて」の項目でも説明したスカフォールドの機能を提供する仕組みです。
RapidDriveはデータベースのテーブル定義情報をもとに入力フォーム等の画面も自動的に生成してくれるので、開発者は動作の定義をするだけで簡単なWebアプリケーションを短時間で作ることが可能になります。

* RapidDriveの動作設定

このRapidDriveを利用するには、まず開発者が作成したアクションコントローラーに対してRapidDriveの機能を有効にするための設定を行います。
その設定はアクションコントローラーに「''rapid''」という名前のプロパティを作成し、そのプロパティにRapidDriveの動作設定をするだけで、コントローラーが呼び出されたときに自動的にRapidDriveのコンポーネントがロードされ、設定に合わせてRapidDriveが実行されます。

RapidDriveを使用するためにしなければならない設定について説明します。RapidDriveの設定は連想配列に記述していきます。

&br;

** 動作モード

まずアクションのコントローラーごとにRapidDriveの「''動作モード''」を設定します。

RapidDriveの動作モードには以下のものがあります。
:list|一覧表示用の動作モード
:detail|詳細表示用の動作モード
:add|データ新規登録用入力画面表示用の動作モード
:edit|データ編集用入力画面表示用の動作モード
:addVerify|複数の入力画面がある場合の確認画面表示用動作モード
:verify|確認画面表示用の動作モード
:save|データベース登録処理用の動作モード
:fin|処理完了画面表示用の動作モード

{{{
/**
 * listモード
 */
class example extends xFrameworkPX_Controller_Action
{
    // RapidDriveの動作モードをlistモードにする場合
    public $rapid = array(
        'mode' => 'list'
    );
}


/**
 * detailモード
 */
class example extends xFrameworkPX_Controller_Action
{
    // RapidDriveの動作モードをdetailモードにする場合
    public $rapid = array(
        'mode' => 'detail'
    );
}


/**
 * addモード
 */
class example extends xFrameworkPX_Controller_Action
{
    // RapidDriveの動作モードをaddモードにする場合
    public $rapid = array(
        'mode' => 'add'
    );
}


/**
 * editモード
 */
class example extends xFrameworkPX_Controller_Action
{
    // RapidDriveの動作モードをeditモードにする場合
    public $rapid = array(
        'mode' => 'edit'
    );
}


/**
 * addVerifyモード
 */
class example extends xFrameworkPX_Controller_Action
{
    // RapidDriveの動作モードをaddVerifyモードにする場合
    public $rapid = array(
        'mode' => 'addVerify'
    );
}


/**
 * verifyモード
 */
class example extends xFrameworkPX_Controller_Action
{
    // RapidDriveの動作モードをverifyモードにする場合
    public $rapid = array(
        'mode' => 'verify'
    );
}


/**
 * saveモード
 */
class example extends xFrameworkPX_Controller_Action
{
    // RapidDriveの動作モードをsaveモードにする場合
    public $rapid = array(
        'mode' => 'save'
    );
}


/**
 * finモード
 */
class example extends xFrameworkPX_Controller_Action
{
    // RapidDriveの動作モードをfinモードにする場合
    public $rapid = array(
        'mode' => 'fin'
    );
}
}}}

RapidDriveは動作モードによって決まった処理を実行します。開発者はRapidDriveの動作モード設定が異なるアクションをいくつか用意し、それらを組み合わせてひとつの機能を実装します。

&br;

** 各動作モードごとの設定

次に各動作モードごとの設定について詳しく説明します。

&br;

*** listモード
listモードはモジュールに設定されたデータベースのテーブルに登録されているデータの一覧画面を表示するための動作モードです。
この動作モードによって表示される一覧画面には登録されているデータを検索するための機能と一覧のページング処理を行う機能が標準で実装されています。
listモードで設定できる項目には以下のものがあります。

|~設定項目|~初期値|~説明|
|count|null|1ページあたりのデータ件数|
|page_num_key|p|複数ページになっている一覧でページ番号をやりとりするために使用するキー名の設定|
|search_key|q|検索文字列をやりとりするために使用するキー名の設定|
|search_field|array('title', 'message')|検索対象になっているデータベーステーブルのカラムの設定。&br;配列に検索対象のカラム名を指定します。|
|order_field|array(主キー名 => '')|一覧表示するときのデータの表示順序設定。&br;配列で ソート対象のカラム名 => ソート順指定（昇順: ASC または 空文字, 降順: DESC）|
|field_filter|array()|データベーステーブルの一覧表示で非表示するカラム設定。&br;配列に非表示対象のカラム名を指定します。|
|no_item_message|空文字|一覧に表示するデータがなかった場合に表示するメッセージの設定|
|next_action|edit|データベーステーブルの一覧に表示されているデータをクリックしたときの遷移先アクション名設定。&br;|
